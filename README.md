# Web Scraping
# üìÑ Documento de Requisitos de los Interesados
- **Proyecto:** Sistema de Monitoreo de Precios en Supermercados de Bolivia
- **BI Professional:** Rodrigo Jurgen Pinedo Nava
- **Client/Sponsor:** Proyecto personal con posibles alianzas institucionales a futuro

### Problema de negocio
En el actual contexto de crisis econ√≥mica e inflaci√≥n persistente en Bolivia, los consumidores enfrentan dificultades para identificar los precios m√°s convenientes de productos esenciales en supermercados. Al mismo tiempo, las empresas productoras y los supermercados carecen de herramientas p√∫blicas que les permitan visualizar en tiempo real la evoluci√≥n del mercado y los precios de la competencia. Este proyecto se propone abordar ambas problem√°ticas mediante la automatizaci√≥n del relevamiento de precios en l√≠nea y su posterior visualizaci√≥n din√°mica.

### Stakeholders principales
- Ciudadan√≠a consumidora: interesada en acceder a precios actualizados para optimizar sus decisiones de compra.
- Empresas productoras y distribuidoras: buscan monitorear la presencia y precios de sus productos en distintos supermercados.
- Supermercados: interesados en analizar su posicionamiento frente a la competencia y ajustar sus estrategias de precios.
- Periodistas de datos y organizaciones no gubernamentales: potenciales usuarios del conjunto de datos para an√°lisis socioecon√≥micos.

### Uso previsto por los stakeholders
- Consumidores: acceden a gr√°ficos o tablas que les permiten comparar precios y marcas de forma sencilla.
- Productores y competidores: utilizan dashboards privados o informes descargables con datos hist√≥ricos y an√°lisis comparativos.
- Supermercados: reciben reportes personalizados que muestran su evoluci√≥n de precios y posicionamiento relativo.
- Analistas, periodistas o investigadores: descargan datasets estructurados para estudios externos y reportes p√∫blicos.

### Requerimientos principales
- Implementaci√≥n de un sistema automatizado de scraping diario de precios a partir de sitios de ecommerce de supermercados seleccionados.
- Almacenamiento estructurado de los datos recolectados, incluyendo los siguientes metadatos: fecha, ciudad, supermercado, sucursal, marca, categor√≠a, subcategor√≠a, nombre del producto, identificador √∫nico del producto, precio y unidad.
- Desarrollo de un dashboard p√∫blico, inicialmente con Looker Studio, orientado a la ciudadan√≠a en general.
- Generaci√≥n de informes comparativos descargables, organizados por producto y supermercado.
- Escalabilidad del sistema hacia una aplicaci√≥n web o m√≥vil en fases futuras del proyecto.
- Potencial monetizaci√≥n del servicio mediante accesos premium o suscripciones destinadas a empresas del rubro.

# üìÑ Documento de Requisitos del Proyecto

### Prop√≥sito
El proyecto busca brindar a la ciudadan√≠a boliviana una herramienta accesible para conocer los precios actualizados de productos esenciales en supermercados de las ciudades de La Paz, Cochabamba y Santa Cruz. En paralelo, se construir√° una base de datos hist√≥rica que permitir√° generar visualizaciones interactivas para distintos perfiles de usuarios, incluyendo consumidores, empresas productoras y cadenas de supermercados. Dada la coyuntura econ√≥mica nacional, el proyecto se posiciona como una soluci√≥n de transparencia de precios y monitoreo del mercado minorista.

### Dependencias clave
- Equipo de desarrollo: conformado actualmente por el analista BI responsable del proyecto, encargado del scraping, modelado de datos, y desarrollo del dashboard.
- Fuentes de datos: sitios web de ecommerce de supermercados seleccionados (ej. Hipermaxi, T√≠a, Fidalga, IC Norte).
- Herramientas: Python para scraping automatizado, Google Sheets para almacenamiento inicial, Looker Studio para visualizaci√≥n.
- Entregables esperados:
    - Scripts de scraping funcionales y automatizados.
    - Base de datos estructurada de precios hist√≥ricos.
    - Dashboard p√∫blico con visualizaciones clave por producto, ciudad y supermercado.
    - Informes descargables para empresas interesadas.
 
### Requisitos de los stakeholders
Basados en el Documento de Requisitos de los Interesados, los requerimientos han sido priorizados de la siguiente forma:

| Requisito                                                              | Prioridad |
| ---------------------------------------------------------------------- | --------- |
| Automatizaci√≥n diaria del scraping de precios                          | R         |
| Almacenamiento estructurado de datos hist√≥ricos                        | R         |
| Dashboard p√∫blico con filtros por ciudad, categor√≠a y producto         | R         |
| Visualizaci√≥n de series temporales y comparaciones entre supermercados | R         |
| Posibilidad de exportar informes en formatos abiertos (CSV/PDF)        | D         |
| Dashboard privado para empresas productoras o supermercados            | D         |
| Acceso restringido para perfiles empresariales mediante login o token  | N         |
| Integraci√≥n futura con apps m√≥viles                                    | N         |

### Criterios de √©xito
Se considerar√° exitoso este proyecto si se cumplen los siguientes indicadores SMART:

- Automatizaci√≥n diaria del scraping de al menos 3 supermercados por ciudad sin errores durante 30 d√≠as consecutivos.
- Almacenamiento correcto de m√°s de 1.000 registros √∫nicos de productos en un lapso de un mes.
- Publicaci√≥n del dashboard funcional en Looker Studio con al menos tres visualizaciones interactivas: evoluci√≥n de precios, comparativo por ciudad y ranking de supermercados.
- Acceso p√∫blico al dashboard validado por al menos 100 usuarios √∫nicos en su primer mes de lanzamiento.

### Recorrido del usuario (User journeys)

**Experiencia actual:**

Los consumidores deben visitar m√∫ltiples sitios web manualmente para buscar precios, sin garant√≠as de actualizaci√≥n ni posibilidad de comparar entre supermercados o ciudades. Las empresas productoras no cuentan con herramientas para auditar precios p√∫blicos de sus productos ni analizar el mercado minorista con datos abiertos.

**Experiencia futura ideal:**

Los usuarios acceden a una plataforma que centraliza la informaci√≥n de precios, les permite comparar, visualizar tendencias y descargar informaci√≥n √∫til. Las empresas pueden explorar reportes hist√≥ricos y tomar decisiones informadas sobre pricing y posicionamiento.

### Supuestos
- Las p√°ginas de ecommerce de supermercados seguir√°n siendo accesibles p√∫blicamente sin necesidad de autenticaci√≥n.
- Los productos mantienen estructuras HTML reconocibles para los scrapers durante la duraci√≥n del proyecto.
- Looker Studio se mantendr√° como plataforma gratuita y disponible para compartir dashboards con el p√∫blico general.

### Cumplimiento y privacidad
El proyecto no recolecta informaci√≥n personal ni sensible de los usuarios. Se limita exclusivamente a datos p√∫blicos visibles en sitios web de ecommerce. Se respetar√°n los t√©rminos y condiciones de los sitios consultados, y se implementar√°n medidas para evitar una sobrecarga en sus servidores (ej. uso de sleep() o scraping espaciado).

### Accesibilidad
- El dashboard ser√° accesible desde cualquier navegador moderno.
- Se priorizar√° el uso de tipograf√≠a clara, contraste alto y elementos responsivos para visualizaci√≥n en dispositivos m√≥viles.
- Las visualizaciones incluir√°n etiquetas, tooltips y leyendas para facilitar su interpretaci√≥n.

### Plan de despliegue

**Alcance inicial:**
- 3 ciudades (La Paz, Cochabamba, Santa Cruz)
- 3 supermercados por ciudad
- 20 productos seleccionados en categor√≠as clave

**Prioridades:**
- Automatizaci√≥n del scraping
- Estructuraci√≥n y limpieza de datos
- Desarrollo del dashboard p√∫blico
- Generaci√≥n de informes empresariales
- Dise√±o de dashboard privado o versi√≥n web ampliada

**L√≠nea de tiempo estimada (Fase MVP):**
- Semana 1: configuraci√≥n de entorno y scraping inicial
- Semana 2: estructura base de datos + almacenamiento
- Semana 3: Looker Studio con datos de prueba
- Semana 4: carga real y visualizaci√≥n p√∫blica

# üìä Documento Estrat√©gico

### Matriz de Aprobaci√≥n (Sign-off Matrix)

| Nombre                     | Equipo / Rol           | Fecha        |
| -------------------------- | ---------------------- | ------------ |
| Rodrigo Jurgen Pinedo Nava | BI / Data Science Lead | \[Completar] |


**Proponente:** Rodrigo Jurgen Pinedo Nava

**Estado:** Draft > Under Review > ‚ùè Implemented | ‚òë Not implemented

### üìÅ Dataset principal
Datos scrapeados diariamente desde los sitios web de supermercados seleccionados (ecommerce p√∫blicos) en Bolivia.

### üìÅ Dataset secundario
Informaci√≥n auxiliar sobre categor√≠as, unidades de medida, marcas y estructura de productos.

### üë• Perfiles de usuario

| Perfil               | Descripci√≥n y uso esperado del dashboard                                                               |
| -------------------- | ------------------------------------------------------------------------------------------------------ |
| Consumidores         | Consultan precios de productos espec√≠ficos para decidir su compra diaria o semanal.                    |
| Empresas productoras | Analizan tendencias y comparaciones de precios para productos propios y de la competencia.             |
| Supermercados        | Eval√∫an su posicionamiento respecto al mercado local y regional.                                       |
| Periodistas / ONGs   | Utilizan los datos para estudios de inflaci√≥n, informes de transparencia o investigaciones econ√≥micas. |

### üß∞ Funcionalidad del Dashboard

| Caracter√≠stica del Dashboard | Descripci√≥n solicitada                                             |
| ---------------------------- | ------------------------------------------------------------------ |
| Filtros din√°micos            | Ciudad, supermercado, categor√≠a, subcategor√≠a, marca, fecha        |
| Visualizaci√≥n interactiva    | Gr√°ficos de l√≠neas, barras y tablas din√°micas con filtros cruzados |
| Comparaci√≥n de precios       | Entre marcas y supermercados por producto                          |
| Exportaci√≥n de datos         | Opci√≥n de exportar tablas a CSV o PDF                              |
| Versi√≥n m√≥vil optimizada     | Dise√±o responsivo y de carga ligera                                |
| Escalabilidad                | Adaptaci√≥n futura a una app web con login para empresas            |

### üìå Dashboard de referencia
No se utilizar√° un dashboard externo como referencia directa, pero se busca replicar el enfoque de simplicidad y claridad utilizado en herramientas como Precios Claros (Argentina) y dashboards de Google Trends.

### üîê Accesos

| Nivel de Acceso   | Detalle                                                       |
| ----------------- | ------------------------------------------------------------- |
| P√∫blico general   | Acceso completo al dashboard principal sin necesidad de login |
| Empresas (futuro) | Acceso privado a dashboards personalizados o informes         |
| Equipo t√©cnico    | Acceso completo a datasets sin procesar y versiones de prueba |

### üìà Alcance del dashboard
**Incluye:**
- Precios por producto y ciudad
- Categor√≠as esenciales (alimentos, limpieza, higiene personal)
- Visualizaci√≥n de precios por unidad
- Evoluci√≥n diaria de precios

**Excluye (por ahora):**
- Productos con variabilidad extrema o inconsistente (ej. frutas, verduras frescas)
- Tiendas sin cat√°logo online accesible
- M√©todos de pago, promociones bancarias u ofertas limitadas

**üóìÔ∏è Filtros y granularidad temporal:**
- Filtro de fechas: s√≠, incluye selector de fechas desde/hasta.
- Granularidad: diaria (por defecto), con opci√≥n de agregaci√≥n semanal o mensual.
- Rango inicial mostrado: √∫ltimos 7 d√≠as (por defecto).
- Comparaci√≥n temporal: permite comparar contra periodo anterior (semana o mes anterior).

### üìä M√©tricas y gr√°ficos

**üéØ Objetivo visual: Ayudar a usuarios a responder r√°pidamente**
- ¬øCu√°l es el producto m√°s barato hoy y d√≥nde?
- ¬øC√≥mo evoluciona el precio en el tiempo?
- ¬øCu√°l supermercado tiene los mejores precios promedio?
- ¬øC√≥mo comparar marcas dentro de un mismo producto?

**üß± Propuesta de estructura general del dashboard**

**üîπ Encabezado (header)**
- T√≠tulo: Monitor de Precios Bolivia
- Fecha de actualizaci√≥n (√∫ltima carga)
- Filtros generales: Ciudad, Categor√≠a, Fecha desde/hasta

**üî∏ Secci√≥n 1 ‚Äì Tarjetas resumen por ciudad**

| Elemento visual            | Detalle                                                                                                                                                                                             |
| -------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| üìç **Tarjetas por ciudad** | Una tarjeta por ciudad (La Paz, Cochabamba, Santa Cruz) mostrando: <br> üîπ Precio promedio de todos los productos <br> üîπ Producto m√°s barato del d√≠a <br> üîπ Supermercado m√°s econ√≥mico en general |
| üîÄ **Interactividad**      | Al hacer clic en la tarjeta, filtra el resto del dashboard por esa ciudad                                                                                                                           |

**üî∏ Secci√≥n 2 ‚Äì Evoluci√≥n de precios**

| Elemento visual         | Detalle                                                                  |
| ----------------------- | ------------------------------------------------------------------------ |
| üìà **Gr√°fico de l√≠nea** | Evoluci√≥n del precio de un producto seleccionado (ej. "Costilla de res") |
| Dimensiones             | Fecha en eje X, precio en Y, con l√≠neas por supermercado o marca         |
| Filtros                 | Producto, ciudad, supermercado, marca                                    |

**üî∏ Secci√≥n 3 ‚Äì Comparativo de precios por categor√≠a (Canasta Familiar)**

**üß∫ Enfoque:** Comparar precios por categor√≠a dentro de una canasta familiar predefinida
Ejemplo de categor√≠as:

- Alimentos b√°sicos (arroz, fideos, pan, az√∫car)
- Prote√≠nas (carne, pollo, huevo)
- L√°cteos (leche, yogurt)
- Higiene (papel higi√©nico, jab√≥n)
- Limpieza (lavandina, detergente)

**3.1 ‚Äì Gr√°fico de barras apiladas por categor√≠a**

| Detalle          | Valor                                                        |
| ---------------- | ------------------------------------------------------------ |
| Eje X            | Categor√≠a de producto                                        |
| Eje Y            | Precio total (suma de productos seleccionados por categor√≠a) |
| Segmento (color) | Supermercado o marca                                         |
| Uso              | Mostrar qu√© supermercado ofrece el mejor valor por categor√≠a |

**3.2 ‚Äì Tabla comparativa por categor√≠a y supermercado**

| Categor√≠a | Supermercado A | Supermercado B | Supermercado C |
| --------- | -------------- | -------------- | -------------- |
| L√°cteos   | 23.50 Bs       | 21.90 Bs       | 25.30 Bs       |
| Prote√≠nas | 88.70 Bs       | 91.20 Bs       | 85.00 Bs       |
| Higiene   | 15.40 Bs       | 14.80 Bs       | 16.50 Bs       |

- ‚úÖ Se puede destacar en verde el menor precio por fila (categor√≠a).
- ‚úÖ Mostrar al pie el total general por supermercado (valor de la canasta completa).

**3.3 ‚Äì Indicadores clave por canasta**

- Precio total de la canasta por supermercado
- Diferencia % entre el m√°s caro y el m√°s barato
- Producto m√°s caro dentro de la canasta
- Supermercado m√°s barato en X% de los productos

**üî∏ Secci√≥n 4 ‚Äì Tabla detallada con filtros**

| Elemento visual       | Detalle                                                                                          |
| --------------------- | ------------------------------------------------------------------------------------------------ |
| üìã **Tabla din√°mica** | Fecha ‚Äì Ciudad ‚Äì Supermercado ‚Äì Producto ‚Äì Precio ‚Äì Unidad                                       |
| Extras                | ‚úÖ Colores condicionales (verde = precio m√°s bajo) <br> ‚úÖ Filtros: marca, categor√≠a, subcategor√≠a |


**üî∏ Secci√≥n 5 ‚Äì Ranking o top productos**

| Elemento visual                                | Detalle                                                       |
| ---------------------------------------------- | ------------------------------------------------------------- |
| üèÜ **Top productos por diferencia de precios** | Ranking de productos con mayor dispersi√≥n entre supermercados |
| Ejemplo                                        | "Aceite de soya" ‚Üí 10 Bs en tienda A y 17 Bs en tienda B      |


**üß© Opcionales (futuro):**

- Elegir canastas personalizadas (familia peque√±a, media, grande)
- Visualizar evoluci√≥n del precio total de la canasta por semana
- Mostrar ahorro potencial si se combinan productos de distintos supermercados (opcional m√°s adelante)

**üé® Alternativa de navegaci√≥n por producto**
Tambi√©n pod√©s cambiar el enfoque:

Secci√≥n por producto ‚Üí Costilla, Chorizo, Leche, Pan‚Ä¶

Cada uno con sus propias tarjetas resumen, visualizaci√≥n de evoluci√≥n de precios, comparaci√≥n entre supermercados y tabla detallada.

### üéØ Beneficio para usuarios
- **Consumidores:** r√°pidamente detectan qu√© supermercado conviene seg√∫n lo que m√°s compran.
- **Productores:** entienden en qu√© categor√≠a su producto compite en precio.
- **Supermercados:** visualizan si su oferta es competitiva por rubro, no solo por producto.

